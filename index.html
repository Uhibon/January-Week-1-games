<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>The Boo-riculum Games & Quizzes – January Week 1 (Drag & Drop)</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
<style>
  :root{
    --radius:22px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0}
  body{font-family:Inter,'Noto Sans JP',sans-serif;color:#fff;overflow-x:hidden;
    animation:colorFade 40s linear infinite; background:hsl(0,80%,50%);
    transition:background 2s ease;}
  @keyframes colorFade{
    0%{background:hsl(0,80%,50%);}20%{background:hsl(60,80%,50%);}40%{background:hsl(120,80%,50%);}60%{background:hsl(180,80%,50%);}80%{background:hsl(240,80%,50%);}100%{background:hsl(300,80%,50%);}}

  header{text-align:center;padding:20px 0}
  .title{font-family:Cinzel,serif;font-weight:900;font-size:clamp(22px,4vw,40px)}
  .subtitle{opacity:.9;margin-top:6px}
  .hud{display:flex;gap:12px;justify-content:center;margin-top:10px;flex-wrap:wrap}
  .chip{background:rgba(0,0,0,.4);padding:8px 14px;border-radius:999px;font-weight:800;font-size:16px}

  .stage{display:grid;grid-template-columns:1fr 1fr;gap:20px;width:min(1000px,95vw);margin:30px auto;}
  .col{display:flex;flex-direction:column;gap:12px}
  .label{text-align:center;font-weight:700;margin-bottom:6px}
  .card,.drop{font-size:24px;font-weight:800;padding:20px;background:#000;border-radius:var(--radius);color:#fff;text-align:center;cursor:pointer;}
  .drop{border:2px dashed #fff;min-height:80px;display:flex;align-items:center;justify-content:center;}
  .drop.hover{box-shadow:0 0 10px #fff;}
  .locked.correct{background:#16a34a;color:#fff;border:none;}
  .locked.wrong{background:#dc2626;color:#fff;border:none;}

  .controls{text-align:center;margin-top:20px}
  button{background:#000;color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:800;font-size:18px;cursor:pointer}
  .confetti{position:fixed;inset:0;pointer-events:none;z-index:50}
  footer{text-align:center;position:fixed;bottom:8px;width:100%;color:#fff;font-weight:700}

  /* Final glow animation */
  .glow{animation:glowPulse 2s ease-in-out infinite alternate}
  @keyframes glowPulse{0%{filter:brightness(1)}100%{filter:brightness(1.4)}}
</style>
</head>
<body>
<header>
  <div class="title">The Boo-riculum Games & Quizzes</div>
  <div class="subtitle">January Week 1 · Drag & Drop Matching</div>
  <div class="hud">
    <div class="chip" id="page">Page: 1 / 3</div>
    <div class="chip" id="score">Score: 0 / 15</div>
    <div class="chip" id="timer">Time: 0:00</div>
  </div>
</header>
<main class="stage" id="stage"></main>
<div class="controls">
  <button id="check">Check</button>
</div>
<div class="confetti" id="confetti"></div>
<footer>Bryan's English School</footer>
<script>
const DATA=[
{id:'goal',en:'goal',jp:'目標'},{id:'plan',en:'plan',jp:'計画'},{id:'future',en:'future',jp:'未来'},{id:'dream',en:'dream',jp:'夢'},{id:'challenge',en:'challenge',jp:'挑戦'},
{id:'try',en:'try',jp:'挑戦する'},{id:'change',en:'change',jp:'変える'},{id:'habit',en:'habit',jp:'習慣'},{id:'exercise',en:'exercise',jp:'運動'},{id:'study',en:'study',jp:'勉強'},
{id:'learn',en:'learn',jp:'学ぶ'},{id:'practice',en:'practice',jp:'練習'},{id:'success',en:'success',jp:'成功'},{id:'focus',en:'focus',jp:'集中'},{id:'motivation',en:'motivation',jp:'やる気'}];
const GROUPS=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14]];
let current=0,score=0,timer=0;
const stage=document.getElementById('stage');
const pageEl=document.getElementById('page');
const scoreEl=document.getElementById('score');
const timerEl=document.getElementById('timer');
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}
function pad(n){return String(n).padStart(2,'0');}
function startTimer(){setInterval(()=>{timer++;const m=Math.floor(timer/60),s=timer%60;timerEl.textContent=`Time: ${m}:${pad(s)}`;},1000);}
function renderPage(){
 stage.innerHTML='';
 let group=GROUPS[current].map(i=>DATA[i]);
 let left=shuffle([...group]);
 let right=shuffle([...group]);
 let html=`<div class='col'><div class='label'>English</div>${left.map(c=>`<div class='card' draggable='true' data-id='${c.id}'>${c.en}</div>`).join('')}</div>`;
 html+=`<div class='col'><div class='label'>日本語</div>${right.map(c=>`<div class='drop' data-id='${c.id}'>${c.jp}</div>`).join('')}</div>`;
 stage.innerHTML=html;
 document.querySelectorAll('.card').forEach(c=>{c.addEventListener('dragstart',dragStart);c.addEventListener('dragend',dragEnd);});
 document.querySelectorAll('.drop').forEach(d=>{d.addEventListener('dragover',dragOver);d.addEventListener('dragleave',dragLeave);d.addEventListener('drop',drop);});
 pageEl.textContent=`Page: ${current+1} / 3`;scoreEl.textContent=`Score: ${score} / 15`;
}
function dragStart(e){e.dataTransfer.setData('text',e.target.dataset.id);e.target.style.opacity='0.5';}
function dragEnd(e){e.target.style.opacity='1';}
function dragOver(e){e.preventDefault();e.currentTarget.classList.add('hover');}
function dragLeave(e){e.currentTarget.classList.remove('hover');}
function drop(e){e.preventDefault();e.currentTarget.classList.remove('hover');const id=e.dataTransfer.getData('text');e.currentTarget.dataset.match=id;}
function fart(){const ctx=new (window.AudioContext||window.webkitAudioContext)();const o=ctx.createOscillator();const g=ctx.createGain();o.connect(g).connect(ctx.destination);o.type='sawtooth';o.frequency.setValueAtTime(120,ctx.currentTime);g.gain.setValueAtTime(0.2,ctx.currentTime);o.frequency.exponentialRampToValueAtTime(60,ctx.currentTime+0.3);g.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+0.3);o.start();o.stop(ctx.currentTime+0.3);}
function confetti(){const c=document.getElementById('confetti');const i=document.createElement('div');i.style.position='absolute';i.style.inset='0';i.innerHTML='<div style="width:100%;height:100%;background:radial-gradient(circle,rgba(255,255,255,.6)0%,transparent 70%);"></div>';c.appendChild(i);setTimeout(()=>c.innerHTML='',1000);}
document.getElementById('check').addEventListener('click',()=>{
 let drops=[...document.querySelectorAll('.drop')];let correct=0;
 drops.forEach(d=>{if(d.dataset.match){if(d.dataset.match===d.dataset.id){d.classList.add('locked','correct');correct++;confetti();}else{d.classList.add('locked','wrong');fart();}}});
 score+=correct;
 setTimeout(()=>{current++;if(current<3){renderPage();}else{finish();}},1500);
});
function finish(){let msgJP,msgEN,bg;if(score<=5){msgJP='あれ？ブーリキュラムを見なかったの？';msgEN='Oh no! You didn’t look at the Boo-riculum!';bg='red';}else if(score<=10){msgJP='YouTubeばかり見ないで英語を練習しよう！';msgEN='Stop watching YouTube and start practicing English!';bg='orange';}else if(score<=14){msgJP='いいね！あと少しでパーフェクト！';msgEN='Hey, good job! Try for perfect!';bg='green';}else{msgJP='すごい！Week 1 マスター！';msgEN='You are a Week 1 master!!!';bg='gold';confetti();}
 document.body.style.background=bg;document.body.classList.add('glow');stage.innerHTML=`<div style='text-align:center;font-size:30px;font-weight:900;padding:60px;'>${msgJP}<br><br>${msgEN}<br><br><button onclick="location.reload()">Restart</button></div>`;}
renderPage();startTimer();
</script>
</body>
</html>
